<!doctype html>
<html lang="en" theme="dark" menu="expanded">
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      href="%sveltekit.assets%/favicon.svg"
      type="image/svg+xml"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MyCanister Dapp</title>

    <!-- Init theme as fast as possible -->
    <script>
      try {
        const isDarkPreferred = window.matchMedia(
          '(prefers-color-scheme: dark)'
        ).matches;

        const currentTheme =
          localStorage.nnsTheme === null ||
          localStorage.nnsTheme === undefined ||
          localStorage.nnsTheme === ''
            ? undefined
            : JSON.parse(localStorage.nnsTheme);

        document.documentElement.setAttribute(
          'theme',
          currentTheme ?? (isDarkPreferred ? 'dark' : 'light')
        );
      } catch (error) {
        console.error('Error initializing theme', error);
      }
    </script>

    <!-- Init menu as fast as possible as well -->
    <script>
      try {
        const currentMenu = !localStorage.nnsMenu
          ? undefined
          : JSON.parse(localStorage.nnsMenu);

        document.documentElement.setAttribute(
          'menu',
          currentMenu ?? 'expanded'
        );
      } catch (error) {
        console.error('Error initializing menu', error);
      }
    </script>

    <!-- Google tag (gtag.js) -->
    <!-- mycanister.app -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-3PTE85TQC4"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-3PTE85TQC4');
    </script>

    <!-- Google tag (gtag.js) -->
    <!-- https://c7lwu-3qaaa-aaaam-qbgia-cai.icp0.io/ -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-VZDYH6FEKW"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-VZDYH6FEKW');
    </script>

    <!-- Domain check and redirect -->
    <script>
      if (window.location.hostname !== 'mycanister.app') {
        window.location.href = 'https://mycanister.app';
      }
    </script>

    %sveltekit.head%
  </head>

  <body data-sveltekit-preload-data="hover">
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>
